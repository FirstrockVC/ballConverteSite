{"version":3,"sources":["/Users/mariaserna/Documents/ballConverteSite/src async","/Users/mariaserna/Documents/ballConverteSite/src/app/app.component.ts","/Users/mariaserna/Documents/ballConverteSite/src/app/app.module.ts","/Users/mariaserna/Documents/ballConverteSite/src/app/app.routes.ts","/Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.component.ts","/Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.service.ts","/Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.template.html","/Users/mariaserna/Documents/ballConverteSite/src/app/utils/config.ts","/Users/mariaserna/Documents/ballConverteSite/src/environments/environment.ts","/Users/mariaserna/Documents/ballConverteSite/src/main.ts"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA,uCAAuC,WAAW;AAClD;AACA;AACA,8D;;;;;;;;;;;;;;;;ACN0C;AAO1C,IAAa,YAAY;IAAzB;IACA,CAAC;IAAD,mBAAC;AAAD,CAAC;AADY,YAAY;IALxB,uFAAS,CAAC;QACT,QAAQ,EAAE,UAAU;QACrB,QAAQ,EAAE,iCAAiC;KAC3C,CAAC;GAEW,YAAY,CACxB;AADwB;;;;;;;;;;;;;;;;;;;;;;;;ACPiC;AACjB;AACE;AAEyB;AAC7B;AAC4C;AACpC;AACA;AAkB/C,IAAa,SAAS;IAAtB;IAAyB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,SAAS;IAhBrB,sFAAQ,CAAC;QACR,YAAY,EAAE;YACZ,oEAAY;YACZ,wGAAmB;SACpB;QACD,OAAO,EAAE;YACP,iEAAU;YACV,4DAAO;YACP,gFAAa;YACb,mEAAW;YACX,2EAAmB;YACnB,qEAAc;SACf;QACD,SAAS,EAAE,EAAE;QACb,SAAS,EAAE,CAAC,oEAAY,CAAC;KAC1B,CAAC;GACW,SAAS,CAAI;AAAJ;;;;;;;;;;;;ACzBoD;AACS;AAEnF,IAAM,MAAM,GAAW;IACrB,EAAE,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,wGAAmB,EAAC;CAC5C,CAAC;AAEK,IAAM,OAAO,GAAwB,qEAAY,CAAC,OAAO,CAAC,MAAM,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAE,0EAAiB,EAAE,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACRzF;AAEe;AAI1B;AACyB;AAQxD,IAAa,mBAAmB;IAQ9B,6BAAoB,iBAAoC;QAApC,sBAAiB,GAAjB,iBAAiB,CAAmB;QANjD,SAAI,GAAG,IAAI,CAAC;QACZ,cAAS,GAAG,KAAK,CAAC;QAClB,UAAK,GAAiB,EAAE,CAAC;QACzB,WAAM,GAAG,KAAK,CAAC;QACf,gBAAW,GAAG,QAAQ,CAAC;IAE8B,CAAC;IAEtD,sCAAQ,GAAf;IACA,CAAC;IAEM,qCAAO,GAAd,UAAe,KAAkB;QAAjC,iBAOE;QANC,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,KAAK,CAAC;QACzB,GAAG,CAAC,CAAa,UAAW,EAAX,UAAK,CAAC,KAAK,EAAX,cAAW,EAAX,IAAW;YAAvB,IAAI,IAAI;YACX,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,cAAI;gBACvB,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,CAAC,CAAC,CAAC;SACH;IACH,CAAC;IAEK,wCAAU,GAAjB,UAAkB,IAAI;QAAtB,iBAgCC;QA/BC,IAAI,OAAO,GAAG;YACZ,cAAc,EAAE,GAAG;YACnB,YAAY,EAAE,EAAE;YAChB,gBAAgB,EAAE,GAAG;YACrB,UAAU,EAAE,IAAI;YAChB,OAAO,EAAC,CAAC,aAAa,EAAC,eAAe,EAAC,OAAO,EAAC,SAAS,CAAC;YACzD,MAAM,EAAE,IAAI;SACb,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,EAAE,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,EAAC;YACjB,IAAM,MAAM,GAAE,EAAE,CAAC;YACjB,IAAI,QAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAC9B,QAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YACxB,QAAM,CAAC,MAAM,GAAG;gBAChB,IAAI,IAAI,GAAG,QAAM,CAAC,MAAM,CAAC;gBACxB,KAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,SAAS,CAAC,UAAC,MAAM;oBACxD,mDAAI,CAAC;wBACH,KAAK,EAAE,SAAS;wBAChB,IAAI,EAAE,4BAA4B;wBAClC,IAAI,EAAE,SAAS;qBAChB,CAAC,CAAC;oBACH,IAAI,sEAAW,CAAC,MAAM,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;gBAC3C,CAAC,EAAE,UAAC,KAAK;oBACP,mDAAI,CAAC;wBACH,KAAK,EAAE,QAAQ;wBACf,IAAI,EAAE,4CAA4C;wBAClD,IAAI,EAAE,OAAO;qBACd,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC;QACH,CAAC;QAAA,CAAC;IACJ,CAAC;IACH,0BAAC;AAAD,CAAC;AAvDY,mBAAmB;IAN/B,uFAAS,CAAC;QACT,QAAQ,EAAE,aAAa;QACvB,SAAS,EAAE,CAAE,8EAAiB,CAAE;QACjC,sGAAyC;KACzC,CAAC;yDAUuC,8EAAiB,oBAAjB,8EAAiB;GAR7C,mBAAmB,CAuD/B;AAvD+B;;;;;;;;;;;;;;;;;;;;;;;ACfW;AAC+B;AAE9B;AAG5C,IAAa,iBAAiB;IAE5B,2BAAqB,IAAU;QAAV,SAAI,GAAJ,IAAI,CAAM;IAAG,CAAC;IAE5B,sCAAU,GAAjB,UAAkB,MAAM;QACtB,IAAM,IAAI,GAAG,EAAE,IAAI,EAAE,MAAM,EAAE;QAC/B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAG,6DAAM,CAAC,GAAK,EAAE,IAAI,CAAC;aAC1C,GAAG,CAAC,6DAAM,CAAC,WAAW,CAAC,CAAC,KAAK,CAAC,6DAAM,CAAC,WAAW,CAAC,CAAC;IACpD,CAAC;IACH,wBAAC;AAAD,CAAC;AATY,iBAAiB;IAD7B,wFAAU,EAAE;yDAGgB,2DAAI,oBAAJ,2DAAI;GAFpB,iBAAiB,CAS7B;AAT6B;;;;;;;;;ACN9B,4kBAA4kB,mLAAmL,iBAAiB,u6BAAu6B,qBAAqB,ifAAif,4C;;;;;;;;;;;ACAxpE;AAGrC;IAAA;IAiBA,CAAC;IAfC,sBAAkB,aAAG;aAArB;YACE,MAAM,CAAC,oCAAoC,CAAC;QAC9C,CAAC;;;OAAA;IAEa,kBAAW,GAAzB,UAA0B,GAAa;QACrC,IAAM,IAAI,GAAG,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC;QAC9B,MAAM,CAAC,IAAI,CAAC;IACd,CAAC;IAEa,kBAAW,GAAzB,UAA0B,KAAU;QAClC,IAAM,MAAM,GAAG,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,KAAK,CAAC,OAAO;YAC5C,KAAK,CAAC,MAAM,GAAM,KAAK,CAAC,MAAM,WAAM,KAAK,CAAC,UAAY,GAAG,cAAc,CAAC;QAC1E,MAAM,CAAC,mDAAU,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;IAClC,CAAC;IAEH,aAAC;AAAD,CAAC;;;;;;;;;;ACpBD;AAAA,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;AAEhF,mFALmF;AAK5E,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,KAAK;CAClB,CAAC;;;;;;;;;;;;;;ACP6C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,8EAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,4FAAc,EAAE,CAAC;AACnB,CAAC;AAED,wHAAsB,EAAE,CAAC,eAAe,CAAC,kEAAS,CAAC,CAAC","file":"main.bundle.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = \"../../../../../src async recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/mariaserna/Documents/ballConverteSite/src async\n// module id = ../../../../../src async recursive\n// module chunks = 2","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n\ttemplate: '<router-outlet></router-outlet>'\n})\n\nexport class AppComponent {\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/app.component.ts","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { RouterModule, Routes } from '@angular/router';\nimport { FormsModule, ReactiveFormsModule }   from '@angular/forms';\nimport { Routing } from './app.routes';\nimport { UploadFileComponent } from './components/uploadFile/uploadFile.component';\nimport { AppComponent } from './app.component';\nimport { FileDropModule } from 'ngx-file-drop';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    UploadFileComponent\n  ],\n  imports: [\n    HttpModule,\n    Routing,\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    FileDropModule,\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/app.module.ts","import { ModuleWithProviders } from '@angular/core';\nimport { Routes, RouterModule, PreloadAllModules } from '@angular/router';\nimport { UploadFileComponent } from './components/uploadFile/uploadFile.component';\n\nconst routes: Routes = [\n  { path: '', component: UploadFileComponent},\n];\n\nexport const Routing: ModuleWithProviders = RouterModule.forRoot(routes, { useHash: true, preloadingStrategy: PreloadAllModules });\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/app.routes.ts","import { Component } from '@angular/core';\nimport { FileDropModule, UploadFile, UploadEvent } from 'ngx-file-drop';\nimport  { UploadFileService} from './uploadFile.service';\nimport * as csv from \"csvtojson\";\nimport * as _ from 'lodash';\nimport * as moment from 'moment';\nimport swal from 'sweetalert2';\nimport { Angular2Csv } from 'angular2-csv/Angular2-csv';\n\n@Component({\n  selector: 'upload-file',\n  providers: [ UploadFileService ],\n\ttemplateUrl: './uploadFile.template.html'\n})\n\nexport class UploadFileComponent {\n\n  public data = null;\n  public submitted = false;\n  public files: UploadFile[] = [];\n  public status = false;\n  public typeCohorts = 'weekly';\n\n  constructor(private uploadFileService: UploadFileService) { }\n\n  public ngOnInit() {\n  }\n\n  public dropped(event: UploadEvent) {\n     this.files = event.files;\n     for (var file of event.files) {\n       file.fileEntry.file(info => {\n        this.onValidate(info);\n      });\n     }\n   }\n\n  public onValidate(data){\n    var options = {\n      fieldSeparator: ',',\n      quoteStrings: '',\n      decimalseparator: '.',\n      showLabels: true,\n      headers:[\"cohort_week\",\"activity_week\",\"users\",\"revenue\"],\n      useBom: true\n    };\n    this.submitted = true;\n    if (data !== null){\n      const events= [];\n      let reader = new FileReader();\n      reader.readAsText(data);\n      reader.onload = () => {\n      let text = reader.result;\n       this.uploadFileService.uploadData(text).subscribe((result) => {\n        swal({\n          title: 'Success',\n          text: 'Report generated correctly',\n          type: 'success'\n        });\n        new Angular2Csv(result, 'report', options);\n        }, (error) => {\n          swal({\n            title: 'Error!',\n            text: 'An error occurs when generating the report',\n            type: 'error'\n          });\n        });\n      }\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.component.ts","import { Injectable } from '@angular/core';\nimport {RequestOptions,Http, Request, RequestMethod} from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport { Config } from '../../utils/config';\n\n@Injectable()\nexport class UploadFileService {\n\n  constructor (private http: Http) {}\n\n  public uploadData(events): Observable<any> {\n    const data = { data: events }\n\t\treturn this.http.post(`${Config.API}`, data)\n\t\t\t.map(Config.extractData).catch(Config.handleError);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.service.ts","module.exports = \"<div class=\\\"row marketing\\\">\\n  <div class=\\\"col-lg-3\\\">\\n      <div class=\\\"bd-example margin\\\">\\n          <h2>Convert this:</h2>\\n          <img src=\\\"./assets/convert.png\\\" width=\\\"100%\\\">\\n      </div>\\n  </div>\\n    <div class=\\\"col-lg-6 items-center\\\">\\n            <h1 class=\\\"template-style\\\">8BALL CONVERTER</h1>\\n            <h3 class=\\\"text-muted template-style\\\">Convert all your users timestamp into cohorts</h3>\\n            <div class=\\\"bd-example bd-border\\\">\\n                <form>\\n                <div class=\\\"form-group\\\" style=\\\"text-align: left;\\\">\\n                  <label>How do you want the cohorts?</label>\\n                  <div class=\\\"input-group\\\">\\n                      <input type=\\\"radio\\\" [ngModelOptions]=\\\"{standalone: true}\\\" value=\\\"weekly\\\" [(ngModel)]=\\\"typeCohorts\\\" aria-label=\\\"Checkbox for following text input\\\">\\n                      <label style=\\\"margin-left: 10px\\\">Weekly</label>\\n                    </div>\\n                </div>\\n                <div class=\\\"center\\\">\\n                    <file-drop headertext=\\\"Drop files here\\\" (onFileDrop)=\\\"dropped($event)\\\">\\n                    </file-drop>\\n                    <div class=\\\"upload-table\\\" style=\\\"margin-top: 20px\\\">\\n                        <table class=\\\"table table-striped table-bordered\\\">\\n                            <thead>\\n                                <tr>\\n                                    <th>Name</th>\\n                                </tr>\\n                            </thead>\\n                            <tbody class=\\\"upload-name-style\\\">\\n                                <tr *ngFor=\\\"let item of files\\\">\\n                                    <td><strong>{{ item.relativePath }}</strong></td>\\n                                </tr>\\n                            </tbody>\\n                        </table>\\n                    </div>\\n                </div>\\n                  <div class=\\\"form-group\\\">\\n                  </div>\\n              </form>\\n            </div>\\n    </div>\\n    <div class=\\\"col-lg-3 margin\\\">\\n        <div class=\\\"bd-example\\\">\\n            <h2>Into this:</h2>\\n            <img src=\\\"./assets/into.png\\\" width=\\\"100%\\\" style=\\\"margin-top: 2.2rem;\\\">\\n        </div>\\n    </div>\\n  </div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /Users/mariaserna/Documents/ballConverteSite/src/app/components/uploadFile/uploadFile.template.html\n// module id = ../../../../../src/app/components/uploadFile/uploadFile.template.html\n// module chunks = 2","import { Observable } from 'rxjs/Rx';\nimport { Response } from '@angular/http';\n\nexport class Config {\n\n  public static get API(): string {\n    return 'https://107.170.76.230:3000/cohort';\n  }\n\n  public static extractData(res: Response) {\n    const body = res.json() || {};\n    return body;\n  }\n\n  public static handleError(error: any) {\n    const errMsg = (error.message) ? error.message :\n      error.status ? `${error.status} - ${error.statusText}` : 'Server error';\n    return Observable.throw(errMsg);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/app/utils/config.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/environments/environment.ts","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /Users/mariaserna/Documents/ballConverteSite/src/main.ts"],"sourceRoot":"webpack:///"}